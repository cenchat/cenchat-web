<main>
  {{#if --session.model}}
    {{profile-bar
        --page=--page
        --isCommentComposerVisible=true
        --headerText="Send a comment"
        --onSendCommentSuccess=(action handleSendCommentSuccess)}}
  {{else if isSignInVisible}}
    {{sign-in-form}}
  {{/if}}

  {{#async-let
      on=(async-function --page 'loadFilteredComments' --filterCommentsBy)
      placeholder=(component 'ce-spinner' aria-valuetext='Loading comments')
      as |comments|}}
    {{site/page/-components/main-content/main-content-comments
        --session=--session
        --comments=comments
        --prioritizedComments=prioritizedComments
        --filterCommentsBy=--filterCommentsBy
        --onFilterCommentsClick=(action --onFilterCommentsClick)
        --onSignInClick=(action handleSignInClick)}}
  {{/async-let}}

  {{yield}}
</main>
